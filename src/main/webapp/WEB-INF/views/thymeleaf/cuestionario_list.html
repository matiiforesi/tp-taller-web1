<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Lista de Cuestionarios</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <!-- Estilos -->
    <link rel="stylesheet" th:href="@{/css/colores.css}">
    <link rel="stylesheet" th:href="@{/css/cuestionario.css}">
</head>
<body class="container">

<h2>Todos los Cuestionarios</h2>
<div class="d-flex gap-3 mb-3">
    <a href="/spring/home" class="btn btn-secondary mb-2">Volver al Inicio</a>
    <a href="/spring/cuestionario/new" class="btn btn-primary mb-2">+ Nuevo Cuestionario</a>
</div>
<div th:if="${#lists.isEmpty(trivias)}">
    <p>No existen cuestionarios, crear uno!</p>
</div>

<div th:each="trivia : ${trivias}" class="card mb-3">
    <div class="card-body">
        <h5 class="card-title">
            <span th:text="${trivia.nombre}"></span>
            <small class="cuestionario-id"> - ID <span th:text="${trivia.id}"></span></small>
        </h5>
        <p class="card-text" th:text="${trivia.descripcion}"></p>
        <p><strong>Categoria:</strong> <span th:text="${trivia.categoria}"></span></p>
        <p><strong>Dificultad:</strong> <span th:text="${trivia.dificultad.nombre}"></span></p>

        <h6>Preguntas:</h6>
        <ul th:if="${trivia.preguntas != null}">
            <li th:each="q : ${trivia.preguntas}">
                <span th:text="${q.enunciado}"></span>
                <ul>
                    <li><b>Correcta:</b> <span th:text="${q.respuestaCorrecta}"></span></li>
                    <li><b class="incorrecta">Incorrecta 1:</b> <span th:text="${q.respuestaIncorrecta1}"></span></li>
                    <li><b class="incorrecta">Incorrecta 2:</b> <span th:text="${q.respuestaIncorrecta2}"></span></li>
                    <li><b class="incorrecta">Incorrecta 3:</b> <span th:text="${q.respuestaIncorrecta3}"></span></li>
                </ul>
            </li>
        </ul>
    </div>
</div>

</body>
</html>
